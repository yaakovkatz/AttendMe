{% extends "base.html" %}

{% block title %}AttendMe - נוכחות ודוחות{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/attendance.css') }}">
{% endblock %}

{% block content %}
<!-- ========== ATTENDANCE & REPORTS PAGE ========== -->

<section id="attendance" class="section">
    <div class="container">
        <h2 class="section-title">דוח נוכחות</h2>
        
        <!-- Controls -->
        <div class="attendance-controls">
            <div class="date-filter">
                <label for="attendance-date">תאריך:</label>
                <input type="date" id="attendance-date" value="">
            </div>
            <button id="refresh-attendance" class="action-button">
                <i class="fas fa-sync"></i> רענן
            </button>
            <button id="export-attendance" class="action-button secondary">
                <i class="fas fa-file-export"></i> ייצוא לאקסל
            </button>
        </div>

        <!-- Advanced Controls - moved here -->
        <div class="advanced-controls">
            <button id="check-all-people" class="action-button primary">
                <i class="fas fa-users-cog"></i> בדיקת נוכחות כללית
            </button>
            <button id="check-specific-person" class="action-button">
                <i class="fas fa-user-check"></i> בדיקת נוכחות לנבחרים
            </button>
        </div>

        <!-- Statistics -->
        <div class="attendance-stats">
            <div class="stat-card">
                <div class="stat-value" id="attendance-present">0</div>
                <div class="stat-label">נוכחים</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="attendance-absent">0</div>
                <div class="stat-label">נעדרים</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="attendance-percentage">0%</div>
                <div class="stat-label">אחוז נוכחות</div>
            </div>
        </div>

        <!-- Attendance List -->
        <div class="attendance-list">
            <table id="attendance-table">
                <thead>
                    <tr>
                        <th>בחירה</th>
                        <th>תמונה</th>
                        <th>שם מלא</th>
                        <th>ת.ז.</th>
                        <th>סטטוס</th>
                        <th>זמן בדיקה</th>
                    </tr>
                </thead>
                <tbody id="attendance-table-body">
                    <!-- תוכן הטבלה יתמלא דינמית ע"י JavaScript -->
                </tbody>
            </table>
        </div>
    </div>
</section>

<!-- Face Recognition Results Section -->
<section id="face-recognition-results" class="section">
    <div class="container">
        <h2 class="section-title">תוצאות זיהוי פנים מהמצלמות</h2>
        <!-- תוכן יתווסף בעתיד -->
    </div>
</section>

{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/attendance.js') }}"></script>
{% endblock %}