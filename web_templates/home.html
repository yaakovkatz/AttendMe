{% extends "base.html" %}

{% block title %}AttendMe - דף הבית{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/home.css') }}">
{% endblock %}

{% block content %}
<!-- ========== HOME PAGE CONTENT ========== -->

<!-- Hero Section for everyone -->
<section id="home" class="hero">
    <div class="container">
        {% if current_user %}
            <h1>ברוכים הבאים {{ current_user.schoolInfo.school_name or current_user.username }}</h1>
            <p>מערכת חכמה לרישום נוכחות באמצעות זיהוי פנים</p>
        {% else %}
            <h1>מערכת חכמה לרישום נוכחות באמצעות זיהוי פנים</h1>
            <p>פתרון מתקדם לרישום נוכחות בגני ילדים ובתי ספר באמצעות טכנולוגיית זיהוי פנים מבוססת בינה מלאכותית</p>
            <!-- CTA Buttons for guests -->
            <div class="cta-buttons">
                <a href="{{ url_for('login') }}" class="cta-button">התחל עכשיו</a>
                <a href="#features" class="cta-button secondary">למד עוד</a>
            </div>
        {% endif %}
    </div>
</section>

{% if current_user %}
    <!-- ========== DASHBOARD FOR LOGGED IN USERS ========== -->
    <!-- לוח בקרה למשתמשים מחוברים -->

    <!-- Dashboard Section -->
    <section id="dashboard" class="section">
        <div class="container">
            <h2 class="section-title">סטטיסטיקות</h2>

            <!-- Dashboard Overview -->
            <div class="dashboard-overview">
                <div class="status-card">
                    <div class="status-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <div class="status-details">
                        <h3>סה"כ אנשים</h3>
                        <p id="total-people-detail">0</p>
                    </div>
                </div>
                <div class="status-card">
                    <div class="status-icon">
                        <i class="fas fa-user-check"></i>
                    </div>
                    <div class="status-details">
                        <h3>נוכחים</h3>
                        <p id="present-people-detail">0</p>
                    </div>
                </div>
                <div class="status-card">
                    <div class="status-icon">
                        <i class="fas fa-user-times"></i>
                    </div>
                    <div class="status-details">
                        <h3>נעדרים</h3>
                        <p id="absent-people-detail">0</p>
                    </div>
                </div>
                <div class="status-card">
                    <div class="status-icon">
                        <i class="fas fa-percentage"></i>
                    </div>
                    <div class="status-details">
                        <h3>אחוזי נוכחות</h3>
                        <p id="attendance-percentage">0%</p>
                    </div>
                </div>
            </div>

            <!-- Recent Activity -->
            <div class="recent-activity">
                <h3>פעילות אחרונה</h3>
                <div id="recent-activity-list" class="activity-list">
                    <!-- יתמלא דינמית ע"י JavaScript -->
                    <div class="activity-item">
                        <i class="fas fa-clock"></i>
                        <span>טוען פעילות אחרונה...</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

{% else %}
    <!-- ========== LANDING PAGE FOR GUESTS ========== -->
    <!-- עמוד נחיתה לאורחים -->

    <!-- Features Section -->
    <section id="features" class="section">
        <div class="container">
            <h2 class="section-title">למה AttendMe?</h2>
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-eye"></i>
                    </div>
                    <h3>זיהוי פנים מתקדם</h3>
                    <p>טכנולוגיית בינה מלאכותית מדויקת המזהה פנים בזמן אמת עם דיוק גבוה</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-clock"></i>
                    </div>
                    <h3>רישום אוטומטי</h3>
                    <p>מערכת אוטומטית המתעדת נוכחות ללא צורך בהתערבות ידנית</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <h3>דוחות מפורטים</h3>
                    <p>דוחות נוכחות מקיפים עם ניתוח סטטיסטי ויכולות ייצוא</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    <h3>אבטחת מידע</h3>
                    <p>הגנה מתקדמת על מידע אישי עם הצפנה ואבטחה ברמה הגבוהה ביותר</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-mobile-alt"></i>
                    </div>
                    <h3>נגישות מכל מקום</h3>
                    <p>גישה למערכת מכל מכשיר - מחשב, טאבלט או טלפון נייד</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-users-cog"></i>
                    </div>
                    <h3>ניהול קל ופשוט</h3>
                    <p>ממשק משתמש אינטואיטיבי המאפשר ניהול קל של האנשים והנוכחות</p>
                </div>
            </div>
        </div>
    </section>

    <!-- How It Works Section -->
    <section id="how-it-works" class="section">
        <div class="container">
            <h2 class="section-title">איך זה עובד?</h2>
            <div class="steps-grid">
                <div class="step-card">
                    <div class="step-number">1</div>
                    <h3>הרשמה ורישום</h3>
                    <p>הירשמו למערכת והוסיפו את פרטי האנשים עם תמונות איכותיות</p>
                </div>
                <div class="step-card">
                    <div class="step-number">2</div>
                    <h3>הגדרת מצלמה</h3>
                    <p>הגדירו את המצלמה והעלו תמונות מטרה לבדיקת נוכחות</p>
                </div>
                <div class="step-card">
                    <div class="step-number">3</div>
                    <h3>זיהוי אוטומטי</h3>
                    <p>המערכת מזהה פנים באופן אוטומטי ומתעדת נוכחות בזמן אמת</p>
                </div>
                <div class="step-card">
                    <div class="step-number">4</div>
                    <h3>דוחות ומעקב</h3>
                    <p>צפו בדוחות מפורטים, ייצאו נתונים ועקבו אחר סטטיסטיקות</p>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section id="cta" class="section">
        <div class="container">
            <div class="cta-content">
                <h2>מוכנים להתחיל?</h2>
                <p>הצטרפו עוד היום למערכת החכמה לרישום נוכחות</p>
                <div class="cta-buttons">
                    <a href="{{ url_for('register') }}" class="cta-button">הרשמה חינם</a>
                    <a href="{{ url_for('contact') }}" class="cta-button secondary">צור קשר</a>
                </div>
            </div>
        </div>
    </section>

{% endif %}

{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/home.js') }}"></script>
{% endblock %}